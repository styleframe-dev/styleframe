<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Styleframe Sync</title>
	<link rel="stylesheet" href="./styles.css">
</head>
<body>
	<div class="container">
		<div class="tabs">
			<button class="tab active" data-tab="import">Import</button>
			<button class="tab" data-tab="export">Export</button>
		</div>

		<!-- Import Panel -->
		<div id="import-panel" class="panel active">
			<div class="form-group">
				<label for="json-input">Paste DTCG JSON</label>
				<textarea
					id="json-input"
					placeholder='Paste output from "styleframe figma export" command...'
				></textarea>
			</div>

			<div id="import-preview" class="preview">
				<div class="preview-empty">Paste JSON to preview variables</div>
			</div>

			<div id="import-status" class="status"></div>

			<button id="import-btn" class="btn btn-primary" disabled>
				Import Variables
			</button>
		</div>

		<!-- Export Panel -->
		<div id="export-panel" class="panel">
			<div class="form-group">
				<label for="collection-select">Collection</label>
				<div class="collection-select">
					<select id="collection-select">
						<option value="">Loading...</option>
					</select>
					<button id="refresh-btn" class="refresh-btn" title="Refresh">
						<svg width="14" height="14" viewBox="0 0 16 16" fill="none">
							<path d="M13.65 2.35a8 8 0 1 0 1.86 5.15h-2.02a6 6 0 1 1-1.28-3.71L10 6h6V0l-2.35 2.35z" fill="currentColor"/>
						</svg>
					</button>
				</div>
			</div>

			<button id="export-btn" class="btn btn-primary" disabled>
				Export Variables
			</button>

			<div class="output-wrapper">
				<label>Output</label>
				<textarea
					id="export-output"
					readonly
					placeholder="Click Export to generate DTCG JSON..."
				></textarea>
				<button id="copy-btn" class="btn btn-secondary copy-btn" disabled>
					Copy
				</button>
			</div>

			<div id="export-status" class="status"></div>
		</div>
	</div>

	<script type="module" src="./main.ts"></script>
</body>
</html>
